# üöÄ –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ Light Novel NLP

## üìã –û–±–∑–æ—Ä

–ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ Light Novel NLP –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–∞—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:
- **Render.com** - Backend –∏ Frontend
- **Neon.tech** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  
- **Upstash.com** - Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Google AI Studio** - Gemini API

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞

### **–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –∫–∞–∂–¥—ã–º —Å–µ—Ä–≤–∏—Å–æ–º
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã** –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ **–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** Redis —á–µ—Ä–µ–∑ Upstash
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üì¶ –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Neon.tech

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [neon.tech](https://neon.tech)
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ GitHub)

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
   - –ù–∞–∂–º–∏—Ç–µ "Create New Project"
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º)
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞: `lightnovel-nlp`
   - –í—ã–±–µ—Ä–∏—Ç–µ **Free** –ø–ª–∞–Ω

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ connection string**
   - –í Dashboard –Ω–∞–π–¥–∏—Ç–µ "Connection Details"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string (—Ñ–æ—Ä–º–∞—Ç: `postgresql://user:password@host/database`)
   - **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ Redis –Ω–∞ Upstash.com

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [upstash.com](https://upstash.com)
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ GitHub)

2. **–°–æ–∑–¥–∞–Ω–∏–µ Redis database**
   - –ù–∞–∂–º–∏—Ç–µ "Create Database"
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–±–ª–∏–∂–∞–π—à–∏–π –∫ Render)
   - –í—ã–±–µ—Ä–∏—Ç–µ **Free** –ø–ª–∞–Ω
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è: `lightnovel-redis`
   - –ù–∞–∂–º–∏—Ç–µ "Create"

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ connection string**
   - –í Dashboard –Ω–∞–π–¥–∏—Ç–µ "Connection Details"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string (—Ñ–æ—Ä–º–∞—Ç: `redis://user:password@host:port`)
   - **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

### 1.3 –ü–æ–ª—É—á–µ–Ω–∏–µ Gemini API –∫–ª—é—á–µ–π

1. **–î–æ—Å—Ç—É–ø –∫ Google AI Studio**
   - –ó–∞–π–¥–∏—Ç–µ –≤ [Google AI Studio](https://makersuite.google.com/app/apikey)
   - –í–æ–π–¥–∏—Ç–µ –≤ Google –∞–∫–∫–∞—É–Ω—Ç

2. **–°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–µ–π**
   - –ù–∞–∂–º–∏—Ç–µ "Create API Key"
   - –°–æ–∑–¥–∞–π—Ç–µ **2-3 –∫–ª—é—á–∞** –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –∫–ª—é—á–∏

3. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - –û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: `key1,key2,key3`
   - **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

## üèóÔ∏è –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   ```bash
   # –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
   # –ù–∞–∑–≤–∞–Ω–∏–µ: lightnovel-nlp
   # –¢–∏–ø: Public –∏–ª–∏ Private
   ```

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/yourusername/lightnovel-nlp.git
   git push -u origin main
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `render.yaml` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `backend/requirements.txt`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `frontend/package.json`

## üöÄ –®–∞–≥ 3: –î–µ–ø–ª–æ–π–º–µ–Ω—Ç –Ω–∞ Render.com

### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞ Render

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [render.com](https://render.com)
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub –∞–∫–∫–∞—É–Ω—Ç

### 3.2 –°–æ–∑–¥–∞–Ω–∏–µ Backend (Web Service)

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞**
   - –í Render Dashboard –Ω–∞–∂–º–∏—Ç–µ "New"
   - –í—ã–±–µ—Ä–∏—Ç–µ "Web Service"
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–∞**
   ```
   Name: lightnovel-backend
   Environment: Docker
   Plan: Free
   Docker Image: –±—É–¥–µ—Ç —Å–æ–±—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ Dockerfile
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   ```
   DATABASE_URL=postgresql://user:password@host/database
   REDIS_URL=redis://user:password@host:port
   GEMINI_API_KEYS=key1,key2,key3
   GEMINI_API_LIMIT_PER_KEY=1000
   GEMINI_API_LIMIT_THRESHOLD_PERCENT=95
   GEMINI_API_COOLDOWN_HOURS=24
   GEMINI_API_RESET_TIMEZONE=America/Los_Angeles
   ENVIRONMENT=production
   ALLOWED_ORIGINS=https://lightnovel-frontend.onrender.com
   ```

4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
   - Health Check Path: `/health`
   - Auto-Deploy: Yes
   - Branch: main

5. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞**
   - –ù–∞–∂–º–∏—Ç–µ "Create Web Service"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ (10-15 –º–∏–Ω—É—Ç –¥–ª—è Docker —Å–±–æ—Ä–∫–∏)

### 3.3 –°–æ–∑–¥–∞–Ω–∏–µ Frontend (Static Site)

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞**
   - –í Render Dashboard –Ω–∞–∂–º–∏—Ç–µ "New"
   - –í—ã–±–µ—Ä–∏—Ç–µ "Static Site"
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–∞**
   ```
   Name: lightnovel-frontend
   Plan: Free
   Build Command: cd frontend && npm install && npm run build
   Publish Directory: frontend/dist
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   ```
   VITE_API_URL=https://lightnovel-backend.onrender.com
   ```

4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
   - Auto-Deploy: Yes
   - Branch: main

5. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞**
   - –ù–∞–∂–º–∏—Ç–µ "Create Static Site"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ (3-5 –º–∏–Ω—É—Ç)

## ‚úÖ –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞

### 4.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend

1. **Health Check**
   ```bash
   curl https://lightnovel-backend.onrender.com/health
   # –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"status": "healthy"}
   ```

2. **API Documentation**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `https://lightnovel-backend.onrender.com/docs`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Swagger UI

3. **Info Endpoint**
   ```bash
   curl https://lightnovel-backend.onrender.com/info
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   ```

### 4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ Frontend

1. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `https://lightnovel-frontend.onrender.com`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **API Connection**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ frontend –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ backend

### 4.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis (Upstash)

1. **Connection Test**
   - –í Upstash Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ Redis database
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å "Active"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 4.4 –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. **–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Alembic (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
   ```bash
   # –í Render Dashboard -> Backend -> Shell
   cd /opt/render/project/src/backend
   python run_migration.py
   ```

2. **–í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä—è–º–æ–π SQL (–µ—Å–ª–∏ Alembic –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)**
   ```sql
   -- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ Neon Dashboard -> SQL Editor
   -- –ú–∏–≥—Ä–∞—Ü–∏—è 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ approved_at –≤ glossary_terms
   ALTER TABLE glossary_terms 
   ADD COLUMN IF NOT EXISTS approved_at TIMESTAMP;
   
   -- –ú–∏–≥—Ä–∞—Ü–∏—è 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ genre –≤ projects
   ALTER TABLE projects 
   ADD COLUMN IF NOT EXISTS genre VARCHAR(50) DEFAULT 'other' NOT NULL;
   
   -- –ú–∏–≥—Ä–∞—Ü–∏—è 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ processed_at –≤ chapters
   ALTER TABLE chapters 
   ADD COLUMN IF NOT EXISTS processed_at TIMESTAMP;
   
   -- –ú–∏–≥—Ä–∞—Ü–∏—è 4: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ –≤ glossary_versions
   ALTER TABLE glossary_versions RENAME COLUMN version_number TO version_name;
   ALTER TABLE glossary_versions ALTER COLUMN version_name TYPE VARCHAR(255);
   ALTER TABLE glossary_versions RENAME COLUMN terms_snapshot TO terms_data;
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏**
   ```sql
   -- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
   SELECT column_name, data_type 
   FROM information_schema.columns 
   WHERE table_name = 'glossary_terms' 
   AND column_name = 'approved_at';
   
   SELECT column_name, data_type 
   FROM information_schema.columns 
   WHERE table_name = 'projects' 
   AND column_name = 'genre';
   
   SELECT column_name, data_type 
   FROM information_schema.columns 
   WHERE table_name = 'chapters' 
   AND column_name = 'processed_at';
   
   -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ 4: glossary_versions
   SELECT column_name, data_type 
   FROM information_schema.columns 
   WHERE table_name = 'glossary_versions' 
   AND column_name IN ('version_name', 'terms_data');
   ```

## üîß –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 5.1 –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

1. **–ß–µ—Ä–µ–∑ API**
   ```bash
   curl -X POST https://lightnovel-backend.onrender.com/projects \
     -H "Content-Type: application/json" \
     -d '{"title": "Test Novel", "description": "Test project"}'
   ```

2. **–ß–µ—Ä–µ–∑ Frontend**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –≥–ª–∞–≤—É

### 5.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥–ª–∞–≤—É —Å —è–ø–æ–Ω—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤ –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–∏

2. **–ü–µ—Ä–µ–≤–æ–¥**
   - –£—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω—ã –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–∏
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ –≥–ª–∞–≤—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞

## üìä –®–∞–≥ 6: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### 6.1 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **Render Dashboard**
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ Usage –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏
   - –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å health checks

2. **Neon Dashboard**
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ Compute Hours
   - –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ Storage usage
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ Traffic

3. **Upstash Dashboard**
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥ (500K/–º–µ—Å—è—Ü)
   - –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ Storage usage (256MB)
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

### 6.2 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

1. **Health Checks**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (UptimeRobot)
   - –ü–∏–Ω–≥—É–π—Ç–µ `/health` –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

2. **Prevent Sleep**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ cron job –¥–ª—è –ø–∏–Ω–≥–∞
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

### 6.3 –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   - Neon: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
   - –†—É—á–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç: `pg_dump`

2. **–ö–æ–¥**
   - GitHub: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–ø–∏–∏ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## üö® –®–∞–≥ 7: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### 7.1 –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **Build Failures**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard
   # –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ requirements.txt
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ Python/Node.js
   ```

2. **Database Connection Issues**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL
   # –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Neon
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   ```

3. **Redis Connection Issues**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ REDIS_URL
   # –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Upstash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –∫–æ–º–∞–Ω–¥
   ```

4. **API Key Issues**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GEMINI_API_KEYS
   # –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∫–ª—é—á–µ–π
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã API
   ```

### 7.2 –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

1. **Render Logs**
   - Dashboard ‚Üí Service ‚Üí Logs
   - –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —É—Ä–æ–≤–Ω—é (Error, Warning, Info)

2. **Application Logs**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ FastAPI
   - –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–¥–∞—á

## üîÑ –®–∞–≥ 8: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 8.1 –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. **Push –∏–∑–º–µ–Ω–µ–Ω–∏–π**
   ```bash
   git add .
   git commit -m "Update description"
   git push origin main
   ```

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π**
   - Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤ Dashboard

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health checks
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

### 8.2 Rollback

1. **–û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏**
   ```bash
   git revert HEAD
   git push origin main
   ```

2. **–†—É—á–Ω–æ–π –æ—Ç–∫–∞—Ç**
   - –í Render Dashboard –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–µ–ø–ª–æ–π
   - –ù–∞–∂–º–∏—Ç–µ "Rollback"

## üìà –®–∞–≥ 9: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### 9.1 –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã

1. **–ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å**
   - –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
   - –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –±–æ–ª—å—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

2. **–ü–ª–∞–Ω—ã Render**
   - Starter: $7/–º–µ—Å—è—Ü –∑–∞ —Å–µ—Ä–≤–∏—Å
   - Standard: $25/–º–µ—Å—è—Ü –∑–∞ —Å–µ—Ä–≤–∏—Å
   - Pro: $50/–º–µ—Å—è—Ü –∑–∞ —Å–µ—Ä–≤–∏—Å

3. **–ü–ª–∞–Ω—ã Neon**
   - Pro: $20/–º–µ—Å—è—Ü
   - Scale: $100/–º–µ—Å—è—Ü

4. **–ü–ª–∞–Ω—ã Upstash**
   - Pay as you go: $0.25 –∑–∞ 100K –∫–æ–º–∞–Ω–¥
   - Pro: $25/–º–µ—Å—è—Ü

### 9.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Background Worker

1. **–°–æ–∑–¥–∞–Ω–∏–µ Worker**
   - New ‚Üí Background Worker
   - Plan: Starter ($7/–º–µ—Å—è—Ü)
   - Build Command: `cd backend && pip install -r requirements.txt`
   - Start Command: `cd backend && celery -A app.tasks.celery_app worker --loglevel=info`

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**
   - –¢–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ –∏ –¥–ª—è backend
   - –î–æ–±–∞–≤—å—Ç–µ `CELERY_BROKER_URL=REDIS_URL`

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø–ª–∞–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç –ø—Ä–æ–µ–∫—Ç–∞ Light Novel NLP —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª—É—á—à–∏—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ —Ä–∞–º–∫–∞—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤.

### **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ **Upstash Redis** - –ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ª–∏–º–∏—Ç—ã
- ‚úÖ **Neon PostgreSQL** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **Render** - –ø—Ä–æ—Å—Ç–æ—Ç–∞ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –∫–∞–∂–¥—ã–º —Å–µ—Ä–≤–∏—Å–æ–º
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã** –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### **–õ–∏–º–∏—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤:**
- **Render**: 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü, 15 –º–∏–Ω—É—Ç —Å–Ω–∞
- **Neon**: 191.9 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü, 0.5GB storage
- **Upstash**: 500K –∫–æ–º–∞–Ω–¥/–º–µ—Å—è—Ü, 256MB storage

**–£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞! üöÄ**
