# Light Novel NLP - –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –≥–ª–æ—Å—Å–∞—Ä–∏–µ–º

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–∞–Ω–æ–±—ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI, –≤–∫–ª—é—á–∞—é—â–∞—è –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤, –∞–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–∞–º–º–∞—Ä–∏ –∏ –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–∞—Ö

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

#### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Neon.tech
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [neon.tech](https://neon.tech)
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string (—Ñ–æ—Ä–º–∞—Ç: `postgresql://user:password@host/database`)

#### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ Redis –Ω–∞ Upstash.com
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [upstash.com](https://upstash.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –Ω–æ–≤—ã–π Redis database
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string (—Ñ–æ—Ä–º–∞—Ç: `redis://user:password@host:port`)

#### 1.3 –ü–æ–ª—É—á–µ–Ω–∏–µ Gemini API –∫–ª—é—á–µ–π
1. –ó–∞–π–¥–∏—Ç–µ –≤ [Google AI Studio](https://makersuite.google.com/app/apikey)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ API –∫–ª—é—á–µ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2-3)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –∫–ª—é—á–∏

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π–º–µ–Ω—Ç –Ω–∞ Render.com

#### 2.1 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `render.yaml` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ

#### 2.2 –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Render
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [render.com](https://render.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –í—ã–±–µ—Ä–∏—Ç–µ "Blueprint" –∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ `render.yaml`

#### 2.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

**Backend –∏ Worker:**
- `GEMINI_API_KEYS`: –≤–∞—à–∏ –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: `key1,key2,key3`)
- `ALLOWED_ORIGINS`: `https://your-frontend-url.onrender.com`

**Frontend:**
- `VITE_API_URL`: `https://your-backend-url.onrender.com`

> üìñ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**: –°–º. [ENVIRONMENT_SETUP.md](ENVIRONMENT_SETUP.md) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Backend**: `https://your-backend-url.onrender.com/health`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Frontend**: `https://your-frontend-url.onrender.com`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Worker**: –ª–æ–≥–∏ –≤ Render Dashboard

## üìã –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤

### Render.com
- **Web Services**: 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü (‚âà25 –¥–Ω–µ–π)
- **Worker Services**: 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü
- **Static Sites**: –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ
- **Sleep**: 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
- **Free Postgres**: –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π

### Neon.tech
- **Compute**: 191.9 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 0.25 CU 24/7)
- **Storage**: 3 GB
- **Autoscaling**: –¥–æ 2 vCPU, 8 GB RAM
- **Read Replicas**: –¥–æ 3 –Ω–∞ –ø—Ä–æ–µ–∫—Ç
- **Scale to zero**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### Upstash.com
- **Storage**: 10,000 –∑–∞–ø–∏—Å–µ–π
- **Requests**: 10,000/–¥–µ–Ω—å
- **Bandwidth**: 1 GB/–¥–µ–Ω—å

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Render
```yaml
# render.yaml –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
services:
  - type: web
    name: lightnovel-backend
    plan: free
    # –î–æ–±–∞–≤–ª—è–µ–º health check –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–Ω–∞
    healthCheckPath: /health
    healthCheckTimeout: 300
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```python
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
engine = create_engine(
    settings.DATABASE_URL,
    pool_size=5,  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    max_overflow=10,
    pool_pre_ping=True,
    pool_recycle=300,
)
```

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Redis
```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
cache_service.set(key, value, ttl=3600)  # 1 —á–∞—Å TTL
cache_service.set(key, value, ttl=86400)  # 24 —á–∞—Å–∞ –¥–ª—è –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

## üö® –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **Render**: Dashboard ‚Üí Usage
- **Neon**: Dashboard ‚Üí Metrics
- **Upstash**: Dashboard ‚Üí Analytics

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ cron job –¥–ª—è –ø–∏–Ω–≥–∞ `/health` –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ UptimeRobot –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 3. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- Neon: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö: `pg_dump` –¥–ª—è PostgreSQL

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. **Push –≤ GitHub**: `git push origin main`
2. **Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ Render Dashboard
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone <your-repo>
cd lightnovelnlp

# Backend
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload

# Frontend
cd frontend
npm install
npm run dev

# Celery Worker
cd backend
celery -A app.tasks.celery_app worker --loglevel=info
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lightnovelnlp/
‚îú‚îÄ‚îÄ backend/                 # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/            # API —Ä–æ—É—Ç–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —è–¥—Ä–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/         # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/        # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tasks/          # Celery –∑–∞–¥–∞—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ frontend/               # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/       # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ render.yaml             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Render
‚îú‚îÄ‚îÄ README.md               # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ DEPLOYMENT.md           # –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞
‚îî‚îÄ‚îÄ ENVIRONMENT_SETUP.md    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- ‚úÖ **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤** –∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π** –º–µ–∂–¥—É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–∞–º–º–∞—Ä–∏** –≥–ª–∞–≤
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≥–ª–æ—Å—Å–∞—Ä–∏–π** —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –≥–ª–∞–≤
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ **–†–æ—Ç–∞—Ü–∏—è API –∫–ª—é—á–µ–π** Gemini

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞! üöÄ**
